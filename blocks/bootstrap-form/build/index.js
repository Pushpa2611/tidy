(()=>{"use strict";const e=window.wp.blocks,l=JSON.parse('{"apiVersion":2,"name":"tidy/bootstrap-form","title":"Bootstrap Form","category":"design","icon":"feedback","description":"Create responsive Bootstrap forms with various input types.","attributes":{"formId":{"type":"string","default":""},"formMethod":{"type":"string","default":"post"},"formAction":{"type":"string","default":""},"formLayout":{"type":"string","default":"vertical"},"formFields":{"type":"array","default":[{"type":"text","label":"Name","name":"name","required":false,"placeholder":"Enter your name","helpText":""}]},"submitText":{"type":"string","default":"Submit"}},"supports":{"html":false},"editorScript":"file:./build/index.js","editorStyle":"file:./editor.css","style":"file:./style.css"}'),t=window.wp.blockEditor,o=window.wp.components,a=window.wp.element,n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let r;const s=new Uint8Array(16);function i(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(s)}const d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));const c=function(e,l,t){if(n.randomUUID&&!l&&!e)return n.randomUUID();const o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,l){t=t||0;for(let e=0;e<16;++e)l[t+e]=o[e];return l}return function(e,l=0){return d[e[l+0]]+d[e[l+1]]+d[e[l+2]]+d[e[l+3]]+"-"+d[e[l+4]]+d[e[l+5]]+"-"+d[e[l+6]]+d[e[l+7]]+"-"+d[e[l+8]]+d[e[l+9]]+"-"+d[e[l+10]]+d[e[l+11]]+d[e[l+12]]+d[e[l+13]]+d[e[l+14]]+d[e[l+15]]}(o)},m=window.ReactJSXRuntime,p=[{label:"Text",value:"text"},{label:"Email",value:"email"},{label:"Password",value:"password"},{label:"Textarea",value:"textarea"},{label:"Select",value:"select"},{label:"Checkbox",value:"checkbox"},{label:"Radio",value:"radio"},{label:"Range",value:"range"},{label:"File",value:"file"}],u=[{label:"Vertical",value:"vertical"},{label:"Horizontal",value:"horizontal"},{label:"Floating Labels",value:"floating"}];(0,e.registerBlockType)(l.name,{...l,edit:function({attributes:e,setAttributes:l}){const{formId:n,formMethod:r,formAction:s,formLayout:i,formFields:d,submitText:h}=e,[x,f]=(0,a.useState)(null),[b,g]=(0,a.useState)("form-settings");n||l({formId:"form-"+c().substring(0,8)});const y=(e,t,o)=>{const a=[...d];a[e]={...a[e],[t]:o},l({formFields:a})},j=(e,t)=>{if("up"===t&&0===e||"down"===t&&e===d.length-1)return;const o=[...d],a="up"===t?e-1:e+1;[o[e],o[a]]=[o[a],o[e]],l({formFields:o}),f(a)},v=(e,l)=>{const t={className:"form-control "+("floating"===i?"placeholder-transparent":""),placeholder:e.placeholder||"",required:e.required,disabled:!0};switch(e.type){case"textarea":return(0,m.jsx)("textarea",{...t,rows:"3"});case"select":return(0,m.jsx)("select",{...t,children:e.options?.map(((e,l)=>(0,m.jsx)("option",{value:e.value,children:e.label},l)))});case"checkbox":case"radio":return(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{type:e.type,className:"form-check-input",disabled:!0}),(0,m.jsx)("label",{className:"form-check-label",children:"Option 1"})]});case"range":return(0,m.jsx)("input",{type:"range",className:"form-range",disabled:!0});default:return(0,m.jsx)("input",{type:e.type,...t})}};return(0,m.jsxs)("div",{...(0,t.useBlockProps)(),children:[(0,m.jsxs)(t.InspectorControls,{children:[(0,m.jsxs)(o.PanelBody,{title:"Form Settings",initialOpen:"form-settings"===b,onToggle:()=>g("form-settings"===b?null:"form-settings"),children:[(0,m.jsx)(o.TextControl,{label:"Form ID",value:n,onChange:e=>l({formId:e})}),(0,m.jsx)(o.SelectControl,{label:"Form Method",value:r,options:[{label:"POST",value:"post"},{label:"GET",value:"get"}],onChange:e=>l({formMethod:e})}),(0,m.jsx)(o.TextControl,{label:"Form Action (URL)",value:s,onChange:e=>l({formAction:e}),placeholder:"Leave empty for current page"}),(0,m.jsx)(o.SelectControl,{label:"Form Layout",value:i,options:u,onChange:e=>l({formLayout:e})}),(0,m.jsx)(o.TextControl,{label:"Submit Button Text",value:h,onChange:e=>l({submitText:e})})]}),(0,m.jsxs)(o.PanelBody,{title:"Form Fields",initialOpen:"form-fields"===b,onToggle:()=>g("form-fields"===b?null:"form-fields"),children:[(0,m.jsx)(o.Button,{variant:"primary",onClick:()=>{const e={id:c(),type:"text",label:"New Field",name:"field_"+(d.length+1),required:!1,placeholder:"",helpText:"",options:[]};l({formFields:[...d,e]}),f(d.length)},style:{marginBottom:"16px"},children:"Add New Field"}),d.map(((e,t)=>(0,m.jsxs)(o.PanelBody,{title:e.label||`Field ${t+1}`,initialOpen:x===t,onToggle:()=>f(x===t?null:t),children:[(0,m.jsx)(o.SelectControl,{label:"Field Type",value:e.type,options:p,onChange:e=>y(t,"type",e)}),(0,m.jsx)(o.TextControl,{label:"Field Label",value:e.label,onChange:e=>y(t,"label",e)}),(0,m.jsx)(o.TextControl,{label:"Field Name",value:e.name,onChange:e=>y(t,"name",e)}),(0,m.jsx)(o.TextControl,{label:"Placeholder",value:e.placeholder,onChange:e=>y(t,"placeholder",e)}),(0,m.jsx)(o.TextControl,{label:"Help Text",value:e.helpText,onChange:e=>y(t,"helpText",e)}),(0,m.jsx)(o.ToggleControl,{label:"Required Field",checked:e.required,onChange:e=>y(t,"required",e)}),("select"===e.type||"radio"===e.type||"checkbox"===e.type)&&(0,m.jsxs)("div",{style:{marginTop:"16px"},children:[(0,m.jsx)(o.Button,{variant:"secondary",onClick:()=>{const l=[...e.options||[],{label:`Option ${(e.options?.length||0)+1}`,value:`option_${(e.options?.length||0)+1}`}];y(t,"options",l)},children:"Add Option"}),e.options?.map(((l,a)=>(0,m.jsxs)("div",{style:{display:"flex",marginTop:"8px"},children:[(0,m.jsx)(o.TextControl,{value:l.label,onChange:l=>{const o=[...e.options];o[a].label=l,y(t,"options",o)}}),(0,m.jsx)(o.Button,{isDestructive:!0,onClick:()=>{const l=e.options.filter(((e,l)=>l!==a));y(t,"options",l)},style:{marginLeft:"8px"},children:"Remove"})]},a)))]}),(0,m.jsxs)("div",{style:{display:"flex",marginTop:"16px"},children:[(0,m.jsx)(o.Button,{variant:"secondary",onClick:()=>j(t,"up"),disabled:0===t,children:"Move Up"}),(0,m.jsx)(o.Button,{variant:"secondary",onClick:()=>j(t,"down"),disabled:t===d.length-1,style:{marginLeft:"8px"},children:"Move Down"}),(0,m.jsx)(o.Button,{isDestructive:!0,onClick:()=>(e=>{const t=d.filter(((l,t)=>t!==e));l({formFields:t}),x>=e&&f(Math.max(0,x-1))})(t),style:{marginLeft:"8px"},children:"Remove"})]})]},e.id)))]})]}),(0,m.jsxs)("form",{className:"needs-validation "+("horizontal"===i?"row g-3":""),noValidate:!0,children:[d.map(((e,l)=>(0,m.jsxs)("div",{className:"mb-3 "+("horizontal"===i?"col-md-6":""),children:["floating"===i?(0,m.jsxs)("div",{className:"form-floating",children:[v(e),(0,m.jsxs)("label",{children:[e.label,e.required&&"*"]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("label",{className:"form-label "+("horizontal"===i?"col-form-label":""),children:[e.label,e.required&&"*"]}),v(e)]}),e.helpText&&(0,m.jsx)("div",{className:"form-text",children:e.helpText})]},e.id))),(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",children:h})]})]})},save:function({attributes:e}){const{formId:l,formMethod:o,formAction:a,formLayout:n,formFields:r,submitText:s}=e,i=t.useBlockProps.save(),d=e=>{const l={name:e.name,id:e.id,required:e.required,placeholder:e.placeholder||"",className:"form-control "+("floating"===n?"placeholder-transparent":"")};switch(e.type){case"textarea":return(0,m.jsx)("textarea",{...l,rows:"3"});case"select":return(0,m.jsx)("select",{...l,children:e.options?.map(((e,l)=>(0,m.jsx)("option",{value:e.value,children:e.label},l)))});case"checkbox":return(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{type:"checkbox",className:"form-check-input",id:`${e.id}_1`,name:e.name}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:`${e.id}_1`,children:e.options?.[0]?.label||"Option 1"})]});case"radio":return(0,m.jsx)("div",{children:e.options?.map(((l,t)=>(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{type:"radio",className:"form-check-input",id:`${e.id}_${t}`,name:e.name,value:l.value}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:`${e.id}_${t}`,children:l.label})]},t)))});case"range":return(0,m.jsx)("input",{type:"range",className:"form-range",id:e.id,name:e.name});case"file":return(0,m.jsx)("input",{type:"file",className:"form-control",id:e.id,name:e.name});default:return(0,m.jsx)("input",{type:e.type,...l})}};return(0,m.jsx)("div",{...i,children:(0,m.jsxs)("form",{id:l,method:o,action:a||"#",className:"needs-validation "+("horizontal"===n?"row g-3":""),noValidate:!0,children:[r.map((e=>(0,m.jsxs)("div",{className:"mb-3 "+("horizontal"===n?"col-md-6":""),children:["floating"===n?(0,m.jsxs)("div",{className:"form-floating",children:[d(e),(0,m.jsxs)("label",{htmlFor:e.id,children:[e.label,e.required&&(0,m.jsx)("span",{className:"text-danger",children:"*"})]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("label",{htmlFor:e.id,className:"form-label "+("horizontal"===n?"col-form-label":""),children:[e.label,e.required&&(0,m.jsx)("span",{className:"text-danger",children:"*"})]}),d(e)]}),e.helpText&&(0,m.jsx)("div",{className:"form-text",children:e.helpText})]},e.id))),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",children:s})})]})})}})})();