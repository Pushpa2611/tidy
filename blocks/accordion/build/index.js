(()=>{"use strict";var e={20:(e,t,o)=>{var n=o(609),l=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,o){var n,c={},s=null,d=null;for(n in void 0!==o&&(s=""+o),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,n)&&!i.hasOwnProperty(n)&&(c[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===c[n]&&(c[n]=t[n]);return{$$typeof:l,type:e,key:s,ref:d,props:c,_owner:r.current}}},609:e=>{e.exports=window.React},848:(e,t,o)=>{e.exports=o(20)}},t={};function o(n){var l=t[n];if(void 0!==l)return l.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}const n=window.wp.blocks,l=JSON.parse('{"apiVersion":2,"name":"tidy/accordion","title":"Bootstrap Accordion","category":"design","icon":"editor-justify","attributes":{"items":{"type":"array","default":[{"title":"First Accordion Item","content":"Content for first item","imageUrl":"","imageId":"","imageAlt":"","isOpen":false}]},"accordionId":{"type":"string","default":""},"flush":{"type":"boolean","default":false}},"editorScript":"file:./build/index.js","editorStyle":"file:./editor.css","style":"file:./style.css"}');var a=o(609);const r=window.wp.blockEditor,i=window.wp.components,c=window.wp.element,s=window.wp.primitives;var d=o(848);const m=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(s.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),p=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(s.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),u=(0,d.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,d.jsx)(s.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})});(0,n.registerBlockType)(l.name,{...l,edit:function({attributes:e,setAttributes:t}){const{items:o,accordionId:n,flush:l}=e,[s,d]=(0,c.useState)(null);(0,c.useEffect)((()=>{n||t({accordionId:"accordion-"+Math.random().toString(36).substring(2,9)})}),[]);const h=(e,n,l)=>{const a=[...o];a[e]={...a[e],[n]:l},t({items:a})},f=l?"accordion accordion-flush":"accordion";return(0,a.createElement)("div",{...(0,r.useBlockProps)()},(0,a.createElement)(r.InspectorControls,null,(0,a.createElement)(i.PanelBody,{title:"Accordion Settings"},(0,a.createElement)(i.ToggleControl,{label:"Flush Style",help:"Remove the default background color and rounded borders",checked:l,onChange:()=>t({flush:!l})}),(0,a.createElement)(i.Button,{variant:"primary",onClick:()=>{t({items:[...o,{title:`Item ${o.length+1}`,content:"Content for this item",isOpen:!1}]}),d(o.length)},style:{margin:"16px 0",width:"100%"}},"Add Accordion Item"),o.map(((e,n)=>(0,a.createElement)(i.PanelBody,{key:n,title:`Item ${n+1}: ${e.title||"Untitled"}`,initialOpen:!1,opened:s===n,onToggle:()=>(e=>{d(s===e?null:e)})(n)},(0,a.createElement)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"}},(0,a.createElement)("div",null,(0,a.createElement)(i.Button,{icon:m,onClick:()=>(e=>{if(0===e)return;const n=[...o];[n[e],n[e-1]]=[n[e-1],n[e]],t({items:n})})(n),disabled:0===n,label:"Move up",showTooltip:!0}),(0,a.createElement)(i.Button,{icon:p,onClick:()=>(e=>{if(e===o.length-1)return;const n=[...o];[n[e],n[e+1]]=[n[e+1],n[e]],t({items:n})})(n),disabled:n===o.length-1,label:"Move down",showTooltip:!0,style:{marginLeft:"4px"}})),(0,a.createElement)(i.Button,{icon:u,onClick:()=>(e=>{const n=o.filter(((t,o)=>o!==e));t({items:n}),d(null)})(n),label:"Remove item",showTooltip:!0,isDestructive:!0})),(0,a.createElement)(i.TextControl,{label:"Item Title",value:e.title,onChange:e=>h(n,"title",e)}),(0,a.createElement)(i.TextareaControl,{label:"Item Content",value:e.content,onChange:e=>h(n,"content",e)}),(0,a.createElement)(i.ToggleControl,{label:"Open by default",checked:e.isOpen,onChange:e=>h(n,"isOpen",e)})))))),(0,a.createElement)("div",{className:f,id:n},o.map(((e,t)=>(0,a.createElement)("div",{key:t,className:"accordion-item"},(0,a.createElement)("h2",{className:"accordion-header"},(0,a.createElement)("button",{className:"accordion-button "+(e.isOpen?"":"collapsed"),type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${n}-${t}`},e.title||"Accordion Item")),(0,a.createElement)("div",{id:`collapse-${n}-${t}`,className:"accordion-collapse collapse "+(e.isOpen?"show":""),"data-bs-parent":`#${n}`},(0,a.createElement)("div",{className:"accordion-body"},e.content||"Accordion content...")))))))},save:function({attributes:e}){const{items:t,accordionId:o,flush:n}=e,l=r.useBlockProps.save(),i=n?"accordion accordion-flush":"accordion";return(0,a.createElement)("div",{...l},(0,a.createElement)("div",{className:i,id:o},t.map(((e,t)=>(0,a.createElement)("div",{key:t,className:"accordion-item"},(0,a.createElement)("h2",{className:"accordion-header"},(0,a.createElement)("button",{className:"accordion-button "+(e.isOpen?"":"collapsed"),type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${o}-${t}`},e.title||"Accordion Item")),(0,a.createElement)("div",{id:`collapse-${o}-${t}`,className:"accordion-collapse collapse "+(e.isOpen?"show":""),"data-bs-parent":`#${o}`},(0,a.createElement)("div",{className:"accordion-body"},e.imageUrl&&(0,a.createElement)("img",{src:e.imageUrl,alt:e.imageAlt,className:"img-fluid mb-3"}),(0,a.createElement)("div",{dangerouslySetInnerHTML:{__html:e.content}}))))))))}})})();