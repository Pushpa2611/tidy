(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"apiVersion":2,"name":"tidy/accordion","title":"Bootstrap Accordion","category":"design","icon":"editor-justify","attributes":{"items":{"type":"array","default":[{"title":"First Accordion Item","content":"Content for first item","isOpen":false},{"title":"Second Accordion Item","content":"Content for second item","isOpen":false}]},"accordionId":{"type":"string","default":""},"flush":{"type":"boolean","default":false}},"editorScript":"file:./build/index.js","editorStyle":"file:./editor.css","style":"file:./style.css"}'),o=window.wp.blockEditor,n=window.wp.components,c=window.wp.element,s=window.ReactJSXRuntime;(0,e.registerBlockType)(t.name,{...t,edit:function({attributes:e,setAttributes:t}){const{items:i,accordionId:l,flush:a}=e,[d,r]=(0,c.useState)(null);(0,c.useEffect)((()=>{l||t({accordionId:"accordion-"+Math.random().toString(36).substring(2,9)})}),[]);const p=(e,o,n)=>{const c=[...i];c[e]={...c[e],[o]:n},t({items:c})},m=a?"accordion accordion-flush":"accordion";return(0,s.jsxs)("div",{...(0,o.useBlockProps)(),children:[(0,s.jsx)(o.InspectorControls,{children:(0,s.jsxs)(n.PanelBody,{title:"Accordion Settings",children:[(0,s.jsx)(n.ToggleControl,{label:"Flush Style",help:"Remove the default background color and rounded borders",checked:a,onChange:()=>t({flush:!a})}),(0,s.jsx)(n.Button,{variant:"primary",onClick:()=>{t({items:[...i,{title:`Item ${i.length+1}`,content:"Content for this item",isOpen:!1}]})},style:{margin:"16px 0"},children:"Add Accordion Item"}),i.map(((e,o)=>(0,s.jsxs)(n.PanelBody,{title:`Item ${o+1}`,initialOpen:!1,opened:d===o,onToggle:()=>(e=>{r(d===e?null:e)})(o),children:[(0,s.jsx)(n.TextControl,{label:"Item Title",value:e.title,onChange:e=>p(o,"title",e)}),(0,s.jsx)(n.TextareaControl,{label:"Item Content",value:e.content,onChange:e=>p(o,"content",e)}),(0,s.jsx)(n.ToggleControl,{label:"Open by default",checked:e.isOpen,onChange:e=>p(o,"isOpen",e)}),(0,s.jsx)(n.Button,{isDestructive:!0,onClick:()=>(e=>{const o=i.filter(((t,o)=>o!==e));t({items:o})})(o),style:{marginTop:"8px"},children:"Remove Item"})]},o)))]})}),(0,s.jsx)("div",{className:m,id:l,children:i.map(((e,t)=>(0,s.jsxs)("div",{className:"accordion-item",children:[(0,s.jsx)("h2",{className:"accordion-header",children:(0,s.jsx)("button",{className:"accordion-button "+(e.isOpen?"":"collapsed"),type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${l}-${t}`,children:e.title||"Accordion Item"})}),(0,s.jsx)("div",{id:`collapse-${l}-${t}`,className:"accordion-collapse collapse "+(e.isOpen?"show":""),"data-bs-parent":`#${l}`,children:(0,s.jsx)("div",{className:"accordion-body",children:e.content||"Accordion content..."})})]},t)))})]})},save:function({attributes:e}){const{items:t,accordionId:n,flush:c}=e,i=o.useBlockProps.save(),l=c?"accordion accordion-flush":"accordion";return(0,s.jsx)("div",{...i,children:(0,s.jsx)("div",{className:l,id:n,children:t.map(((e,t)=>(0,s.jsxs)("div",{className:"accordion-item",children:[(0,s.jsx)("h2",{className:"accordion-header",children:(0,s.jsx)("button",{className:"accordion-button "+(e.isOpen?"":"collapsed"),type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse-${n}-${t}`,children:e.title||"Accordion Item"})}),(0,s.jsx)("div",{id:`collapse-${n}-${t}`,className:"accordion-collapse collapse "+(e.isOpen?"show":""),"data-bs-parent":`#${n}`,children:(0,s.jsx)("div",{className:"accordion-body",children:e.content||"Accordion content..."})})]},t)))})})}})})();