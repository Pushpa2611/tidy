(()=>{"use strict";const t=window.wp.blocks,e=JSON.parse('{"apiVersion":2,"name":"tidy/bootstrap-tabs","title":"Bootstrap Tabs","category":"design","icon":"excerpt-view","description":"A customizable Bootstrap tabs block with InnerBlocks support.","attributes":{"tabs":{"type":"array","default":[{"title":"Tab 1","slug":"tab-1","active":true},{"title":"Tab 2","slug":"tab-2","active":false}]},"tabId":{"type":"string","default":""},"variant":{"type":"string","default":"tabs"}},"providesContext":{"tidy/bootstrap-tabs/tabId":"tabId"},"editorScript":"file:./build/index.js","editorStyle":"file:./editor.css","style":"file:./style.css"}'),a=window.wp.blockEditor,l=window.wp.components,s=window.wp.element,n=window.ReactJSXRuntime,i=[{label:"Tabs",value:"tabs"},{label:"Pills",value:"pills"},{label:"Underline",value:"underline"}],o=["core/paragraph","core/heading","core/image","core/list"];(0,t.registerBlockType)(e.name,{...e,edit:function({attributes:t,setAttributes:e,clientId:r}){const{tabs:c,tabId:b,variant:d}=t,[p,u]=(0,s.useState)(0),[v,g]=(0,s.useState)(null);(0,s.useEffect)((()=>{if(!b){const t="tab-"+Math.random().toString(36).substring(2,9);e({tabId:t})}}),[]);const m=(t,a,l)=>{const s=[...c];s[t]={...s[t],[a]:l},e({tabs:s})},h=[["core/paragraph",{placeholder:"Add tab content here..."}]];return(0,n.jsxs)("div",{...(0,a.useBlockProps)(),children:[(0,n.jsx)(a.InspectorControls,{children:(0,n.jsxs)(l.PanelBody,{title:"Tab Settings",children:[(0,n.jsx)(l.SelectControl,{label:"Tab Style",value:d,options:i,onChange:t=>e({variant:t})}),(0,n.jsx)(l.Button,{variant:"primary",onClick:()=>{const t=c.length+1,a=`tab-${t}`;e({tabs:[...c,{title:`Tab ${t}`,slug:a,active:!1}]}),u(c.length)},style:{margin:"16px 0"},children:"Add New Tab"}),c.map(((t,a)=>(0,n.jsxs)(l.PanelBody,{title:`Tab ${a+1}`,initialOpen:!1,opened:v===a,onToggle:()=>(t=>{g(v===t?null:t)})(a),children:[(0,n.jsx)(l.TextControl,{label:"Tab Title",value:t.title,onChange:t=>m(a,"title",t)}),(0,n.jsx)(l.TextControl,{label:"Tab Slug",value:t.slug,onChange:t=>m(a,"slug",t)}),(0,n.jsx)(l.Button,{isDestructive:!0,onClick:()=>(t=>{const a=c.filter(((e,a)=>a!==t));e({tabs:a}),p>=t&&u(Math.max(0,p-1))})(a),style:{marginTop:"8px"},children:"Remove Tab"})]},a)))]})}),(0,n.jsxs)("div",{className:"tabs-preview",children:[(0,n.jsx)("ul",{className:`nav nav-${d}`,id:b,role:"tablist",children:c.map(((t,e)=>(0,n.jsx)("li",{className:"nav-item",role:"presentation",children:(0,n.jsx)("button",{className:"nav-link "+(p===e?"active":""),onClick:()=>u(e),type:"button",role:"tab",children:t.title||`Tab ${e+1}`})},e)))}),(0,n.jsx)("div",{className:"tab-content p-3 border border-top-0",children:c.map(((t,e)=>(0,n.jsx)("div",{className:"tab-pane "+(p===e?"active":""),role:"tabpanel",style:{display:p===e?"block":"none"},children:(0,n.jsx)(a.InnerBlocks,{template:h,templateLock:!1,allowedBlocks:o,renderAppender:p===e&&a.InnerBlocks.ButtonBlockAppender})},e)))})]})]})},save:function({attributes:t}){const{tabs:e,tabId:l,variant:s}=t,i=a.useBlockProps.save(),o=a.useInnerBlocksProps.save({className:"tab-content"});return(0,n.jsxs)("div",{...i,children:[(0,n.jsx)("ul",{className:`nav nav-${s}`,id:l,role:"tablist",children:e.map(((t,e)=>(0,n.jsx)("li",{className:"nav-item",role:"presentation",children:(0,n.jsx)("button",{className:"nav-link "+(t.active?"active":""),"data-bs-toggle":"tab","data-bs-target":`#${t.slug}`,type:"button",role:"tab",children:t.title})},e)))}),(0,n.jsx)("div",{...o})]})}})})();